service: serverless-notifications

provider:
  name: aws
  runtime: nodejs8.10
  region: us-east-1
  memorySize: 256
  environment:
    UsersAPI:
      "Fn::ImportValue": "UsersAPI"
    TasksAPI:
      "Fn::ImportValue": "TasksAPI"
    SocketDNS:
      "Fn::ImportValue": "SocketDNS"

  iamRoleStatements:
    - Effect: Allow
      Action:
        - s3:*
        - sns:*
        - ec2:*
        - ses:*
      Resource: "*"

functions:
  notify:
    handler: process.handler
    events:
      - sns: newTask
